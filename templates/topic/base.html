<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}{% endblock %}</title>
{#    <link rel="stylesheet" href="/static/cnode/lib/editor/editor.css">#}
{#    <link rel="stylesheet" href="/static/cnode/lib/webuploader/webuploader.css">#}
{#    <script src="/static/cnode/lib/markdownit.js"></script>#}
{#    <script src="/static/cnode/lib/webuploader/webuploader.withoutimage.js"></script>#}
{#    <script src="/static/cnode/lib/editor/editor.js"></script>#}
{#    <script src="/static/cnode/lib/editor/ext.js"></script>#}
    <script src="/static/js/topic.js"></script>
{#    <script src="/static/cnode/lib/jquery-3.0.0.min.js"></script>#}

    <link rel="stylesheet" href="/static/cnode/index.min.bdd5dd43.min.css" media="all">
    <link rel="stylesheet" href="/static/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/style.css">
    <script src="//cdn.bootcss.com/marked/0.3.6/marked.min.js"></script>
    <script src="//cdn.bootcss.com/prism/1.8.0/prism.js"></script>
    <script src="//cdn.bootcss.com/prism/1.8.1/components/prism-python.min.js"></script>
    <link href="//cdn.bootcss.com/prism/1.8.0/themes/prism.css" rel="stylesheet">

    <link rel="stylesheet" href="http://lab.lepture.com/editor/editor.css" />
    <script type="text/javascript" src="http://lab.lepture.com/editor/editor.js"></script>
    <script type="text/javascript" src="http://lab.lepture.com/editor/marked.js"></script>
</head>
<body>
<div class='navbar'>
  <div class='navbar-inner'>
    <div class='container'>
      <a class='brand' href='/'>

          <img src="//o4j806krb.qnssl.com/public/images/cnodejs_light.svg" />

      </a>

      <form id='search_form' class='navbar-search' action="/search">
        <input type='text' id='q' name='q' class='search-query span3' value=''/>
      </form>
      <ul class='nav pull-right'>
        <li><a href='{{ url_for('topic.index') }}'>首页</a></li>

        <li>
            <a href='{{ url_for('mail.index') }}'>

                <!--<span class="big messages_count">0</span>-->

              邮件与私信
            </a>
        </li>

        <li><a href='/getstart'>新手入门</a></li>
        <li><a href='/api'>API</a></li>

        <li><a href="/about" target="">关于</a></li>


        <li><a href='{{ url_for('index.setting') }}'>设置</a></li>
        <li>
          <a href='{{ url_for('index.signout') }}' data-method="post" rel="nofollow">退出</a>
        </li>

      </ul>
      <a class="btn btn-navbar" id="responsive-sidebar-trigger">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>
    </div>
  </div>
</div>
{% block main %}{% endblock %}
<!--<div id="footer">-->
  <!--<div id="footer_main">-->
    <!--<div class="links">-->
      <!--<a class="dark" href="https://cnodejs.org/rss">RSS</a>-->
      <!--|-->
      <!--<a class="dark" href="https://github.com/cnodejs/nodeclub/">源码地址</a>-->
    <!--</div>-->

    <!--<div class="col_fade">-->

  <!--<p>CNode 社区为国内最专业的 Node.js 开源技术社区，致力于 Node.js 的技术研究。</p>-->
  <!--<p>服务器赞助商为-->
    <!--<a href="#" target="_blank" class="sponsor_outlink" data-label="ucloud_bottom">-->
      <!--<img src="/static/cnode/footimg2" title="ucloud" alt="ucloud" width="92px">-->
    <!--</a>-->
  <!--，存储赞助商为-->
    <!--<a href="http://www.qiniu.com/?ref=cnode" target="_blank" class="sponsor_outlink" data-label="qiniu_bottom">-->
      <!--<img src="/static/cnode/footimg3" title="七牛云存储" alt="七牛云存储" width="115px">-->
    <!--</a>-->
  <!--，由<a href="https://alinode.aliyun.com/?ref=cnode" target="_blank" class="sponsor_outlink" data-label="alinode_bottom">-->
      <!--<img src="/static/cnode/footimg1" title="alinode" alt="alinode" height="54px" width="166px">-->
    <!--</a>提供应用性能服务。-->
  <!--</p>-->
  <!--<p>新手搭建 Node.js 服务器，推荐使用无需备案的 <a href="#">DigitalOcean(https://www.digitalocean.com/)</a></p>-->
<!--</div>-->


  <!--</div>-->
<!--</div>-->
</body>
<script>
        var e = function (sel) {
            return document.querySelector(sel)
        }

        var es = function (sel) {
            return document.querySelectorAll(sel)
        }

        var markContents = function () {
            var contentDivs = es('.markdown-text')
            for (var i = 0; i < contentDivs.length; i++) {
                var contentDiv = contentDivs[i]
                console.log('pre marked', contentDiv.textContent, contentDiv.innerHTML)
                var content = marked(contentDiv.textContent)
                console.log('after marked', content)
                contentDiv.innerHTML = content
            }
        }

        var highlight = function () {
            var code_list = es('pre code')
            for (var i = 0; i < code_list.length; i++) {
                var code = code_list[i]
                code.className = code.className.replace('lang', 'language')
            }
        }

        var registerTimer = function () {
            setInterval(function () {
                var times = es('.injury-time')
                for (var i = 0; i < times.length; i++) {
                    var t = times[i]
                    var time = Number(t.dataset.ct)
                    var now = Math.floor(new Date() / 1000)
                    var delta = now - time
                    var s = `${delta} 秒前`
                    t.innerText = s
                }
            }, 1000)
        }


        var __main = function () {
            markContents()
            registerTimer()
            highlight()
        }

        __main()
    </script>
</html>